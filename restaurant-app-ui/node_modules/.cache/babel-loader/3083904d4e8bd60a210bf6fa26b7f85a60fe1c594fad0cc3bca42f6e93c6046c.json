{"ast":null,"code":"var _jsxFileName = \"E:\\\\Workspace\\\\FullStack\\\\restaurant-management\\\\restaurant-app-ui\\\\src\\\\components\\\\Order\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport OrderForm from \"./OrderForm\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { Grid } from \"@material-ui/core\";\nimport SearchFoodItem from \"./SearchFoodItem\";\nimport OrderedFoodItem from \"./OrderedFoodItems\";\nimport { createAPIEndpoint, ENDPOINTS } from \"../../api\";\n\n// Random 6 so\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst generateOrderNumber = () => Math.floor(100000 + Math.random() * 900000).toString();\nconst getFreshModelObject = () => ({\n  orderMasterId: 0,\n  orderNumber: generateOrderNumber(),\n  customerId: 0,\n  pMethod: \"none\",\n  gTotal: 0,\n  deletedOrderItemIds: \"\",\n  foodItemName: \"\",\n  orderDetails: []\n});\nexport default function Order() {\n  _s();\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange,\n    resetFormControls\n  } = useForm(getFreshModelObject);\n  const [foodName, setFoodName] = useState(\"\");\n  const [foodId, setFoodId] = useState(0);\n  const [idx, setIdx] = useState(0);\n  let n = 0;\n  const addFoodItem = foodItem => {\n    let orderDetail = {\n      orderMasterId: values.orderMasterId,\n      orderDetailId: 0,\n      foodItemId: foodItem.foodItemId,\n      quantity: 1,\n      foodItemPrice: foodItem.foodItemPrice,\n      foodItemName: \"\"\n    };\n    setFoodId(() => orderDetail.foodItemId);\n    setIdx(n => n++);\n    // call api get by id to set FoodItemName\n    createAPIEndpoint(ENDPOINTS.FOODITEM).fetchById(orderDetail.foodItemId).then(res => {\n      // set FoodItemName to OrderDetail\n      orderDetail.foodItemName = res.data.foodItemName;\n    }).catch(err => console.log(err));\n    setValues({\n      ...values,\n      orderDetails: [...values.orderDetails, orderDetail]\n    });\n  };\n  useEffect(() => {\n    createAPIEndpoint(ENDPOINTS.FOODITEM).fetchById(foodId).then(res => {\n      setFoodName(() => res.data.foodItemName);\n    }).catch(err => console.log(err));\n  }, [foodId, n]);\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: /*#__PURE__*/_jsxDEV(OrderForm, {\n        values,\n        errors,\n        handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 6,\n      children: /*#__PURE__*/_jsxDEV(SearchFoodItem, {\n        addFoodItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 6,\n      children: /*#__PURE__*/_jsxDEV(OrderedFoodItem, {\n        orderedFoodItems: values.orderDetails\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s(Order, \"o8Y4QylG5oiqBL00Mu0DFGHvVBE=\", false, function () {\n  return [useForm];\n});\n_c = Order;\nvar _c;\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"names":["React","useEffect","useState","OrderForm","useForm","Grid","SearchFoodItem","OrderedFoodItem","createAPIEndpoint","ENDPOINTS","generateOrderNumber","Math","floor","random","toString","getFreshModelObject","orderMasterId","orderNumber","customerId","pMethod","gTotal","deletedOrderItemIds","foodItemName","orderDetails","Order","values","setValues","errors","setErrors","handleInputChange","resetFormControls","foodName","setFoodName","foodId","setFoodId","idx","setIdx","n","addFoodItem","foodItem","orderDetail","orderDetailId","foodItemId","quantity","foodItemPrice","FOODITEM","fetchById","then","res","data","catch","err","console","log","orderedFoodItems"],"sources":["E:/Workspace/FullStack/restaurant-management/restaurant-app-ui/src/components/Order/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport OrderForm from \"./OrderForm\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport SearchFoodItem from \"./SearchFoodItem\";\r\nimport OrderedFoodItem from \"./OrderedFoodItems\";\r\nimport { createAPIEndpoint, ENDPOINTS } from \"../../api\";\r\n\r\n// Random 6 so\r\nconst generateOrderNumber = () =>\r\n  Math.floor(100000 + Math.random() * 900000).toString();\r\n\r\nconst getFreshModelObject = () => ({\r\n  orderMasterId: 0,\r\n  orderNumber: generateOrderNumber(),\r\n  customerId: 0,\r\n  pMethod: \"none\",\r\n  gTotal: 0,\r\n  deletedOrderItemIds: \"\",\r\n  foodItemName: \"\",\r\n  orderDetails: [],\r\n});\r\n\r\nexport default function Order() {\r\n  const {\r\n    values,\r\n    setValues,\r\n    errors,\r\n    setErrors,\r\n    handleInputChange,\r\n    resetFormControls,\r\n  } = useForm(getFreshModelObject);\r\n\r\n  const [foodName, setFoodName] = useState(\"\");\r\n  const [foodId, setFoodId] = useState(0);\r\n  const [idx, setIdx] = useState(0);\r\n  let n = 0;\r\n  const addFoodItem = (foodItem) => {\r\n    let orderDetail = {\r\n      orderMasterId: values.orderMasterId,\r\n      orderDetailId: 0,\r\n      foodItemId: foodItem.foodItemId,\r\n      quantity: 1,\r\n      foodItemPrice: foodItem.foodItemPrice,\r\n      foodItemName: \"\",\r\n    };\r\n    setFoodId(() => orderDetail.foodItemId);\r\n\r\n    setIdx((n) => n++);\r\n    // call api get by id to set FoodItemName\r\n    createAPIEndpoint(ENDPOINTS.FOODITEM)\r\n      .fetchById(orderDetail.foodItemId)\r\n      .then((res) => {\r\n        // set FoodItemName to OrderDetail\r\n        orderDetail.foodItemName = res.data.foodItemName;\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    setValues({\r\n      ...values,\r\n      orderDetails: [...values.orderDetails, orderDetail],\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    createAPIEndpoint(ENDPOINTS.FOODITEM)\r\n      .fetchById(foodId)\r\n      .then((res) => {\r\n        setFoodName(() => res.data.foodItemName);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [foodId, n]);\r\n\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12}>\r\n        <OrderForm {...{ values, errors, handleInputChange }}></OrderForm>\r\n      </Grid>\r\n      <Grid item xs={6}>\r\n        <SearchFoodItem {...{ addFoodItem }}></SearchFoodItem>\r\n      </Grid>\r\n      <Grid item xs={6}>\r\n        <OrderedFoodItem\r\n          {...{ orderedFoodItems: values.orderDetails }}\r\n        ></OrderedFoodItem>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}